- author: Mario Zieschang
  entries:
  - columns:
    - {default: uuid, name: id, primarykey: 1, type: uuid}
    - {lenght: 255, name: address_line1, type: varchar}
    - {lenght: 255, name: address_line2, type: varchar}
    - {lenght: 100, name: city, type: varchar}
    - {lenght: 100, name: company, type: varchar}
    - {lenght: 100, name: country, type: varchar}
    - {lenght: 100, name: department, type: varchar}
    - {lenght: 100, name: gln, type: varchar}
    - {lenght: 100, name: state, type: varchar}
    - {lenght: 100, name: tax_id, type: varchar}
    - {lenght: 50, name: zip_code, type: varchar}
    name: address_information
    type: createtable
  - columns:
    - {default: uuid, name: id, primarykey: 1, type: uuid}
    - {default: 1, name: active, notnull: 1, type: bit}
    - {name: last_activity, type: timestamp}
    - foreign: {refcolumn: id, reftable: address_information}
      name: address_information
      notnull: 1
      type: uuid
    - {default: 1, name: test_mode, notnull: 1, type: bit}
    - {default: 0, name: contactable_by_referral_partner, notnull: 1, type: bit}
    - {default: 0, name: sepa_registered, notnull: 1, type: bit}
    - {default: current, name: creation_date, notnull: 1, type: timestamp}
    - {lenght: 20, name: default_timezone, type: varchar}
    - {lenght: 5, name: default_language, type: varchar}
    - foreign: {refcolumn: id, reftable: client}
      name: master
      type: uuid
    - {lenght: 255, name: type, type: varchar}
    name: client
    type: createtable
  - columns:
    - {default: 0, name: monday_open, notnull: 1, type: bit}
    - {default: 0, name: tuesday_open, notnull: 1, type: bit}
    - {default: 0, name: wednesday_open, notnull: 1, type: bit}
    - {default: 0, name: thursday_open, notnull: 1, type: bit}
    - {default: 0, name: friday_open, notnull: 1, type: bit}
    - {default: 0, name: saturday_open, notnull: 1, type: bit}
    - {default: 0, name: sunday_open, notnull: 1, type: bit}
    - {name: monday_from, type: timestamp}
    - {name: tuesday_from, type: timestamp}
    - {name: wednesday_from, type: timestamp}
    - {name: thursday_from, type: timestamp}
    - {name: friday_from, type: timestamp}
    - {name: saturday_from, type: timestamp}
    - {name: sunday_from, type: timestamp}
    - {name: monday_to, type: timestamp}
    - {name: tuesday_to, type: timestamp}
    - {name: wednesday_to, type: timestamp}
    - {name: thursday_to, type: timestamp}
    - {name: friday_to, type: timestamp}
    - {name: saturday_to, type: timestamp}
    - {name: sunday_to, type: timestamp}
    name: opening_times
    type: createtable
  - columns:
    - {name: sales_area, type: numeric}
    - {name: stretch_zone, type: numeric}
    - {name: viewing_zone, type: numeric}
    - {name: grip_zone, type: numeric}
    - {name: bend_zone, type: numeric}
    name: storae_space
    type: createtable
  - columns:
    - {tpl: tpl_client_ref}
    - {lenght: 30, name: cent_name, type: varchar}
    - {name: decimal_places, type: smallint}
    - {lenght: 10, name: currency_key, type: character}
    - {lenght: 3, name: symbol, type: character}
    name: currencies
    type: createtable
  - columns:
    - {tpl: tpl_client_ref}
    name: economic_zone
    type: createtable
  - columns:
    - {tpl: tpl_client_ref}
    - {default: 0, name: net_prices, notnull: 1, type: bit}
    - foreign: {refcolumn: id, reftable: currencies}
      name: currency
      notnull: 1
      type: uuid
    name: price_group
    type: createtable
  - columns:
    - {tpl: tpl_client_ref}
    - foreign: {refcolumn: id, reftable: organizational_unit}
      name: parent
      type: uuid
    - foreign: {refcolumn: id, reftable: address_information}
      name: address_information
      notnull: 1
      type: uuid
    - {name: centrality_index, type: smallint}
    - {name: eh_number, type: smallint}
    - {default: 0, name: has_children, notnull: 1, type: bit}
    - foreign: {refcolumn: id, reftable: price_group}
      name: price_group
      notnull: 1
      type: uuid
    - {default: 0, name: warehouse, notnull: 1, type: bit}
    - foreign: {refcolumn: id, reftable: economic_zone}
      name: economic_zone
      notnull: 1
      type: uuid
    name: organizational_unit
    type: createtable
  - columns:
    - {tpl: tpl_client_ref}
    - {name: monthly_operating_rent, type: numeric}
    - {name: monthly_staff, type: numeric}
    name: costs
    type: createtable
  - columns:
    - {tpl: tpl_client_ref}
    name: user_permissions
    type: createtable
  - columns:
    - {tpl: tpl_client_ref}
    - foreign: {refcolumn: id, reftable: user_roles}
      name: parent
      type: uuid
    name: user_roles
    type: createtable
  - columns:
    - foreign: {refcolumn: id, reftable: user_roles}
      name: user_role
      notnull: 1
      type: uuid
    - foreign: {refcolumn: id, reftable: user_permissions}
      name: user_permission
      notnull: 1
      type: uuid
    constraints:
    - primarykey: [user_role, user_permission]
    name: user_role_has_permissions
    type: createtable
  - columns:
    - {tpl: tpl_client_ref}
    - {lenght: 255, name: surname, notnull: 1, type: varchar}
    - {lenght: 255, name: email, notnull: 1, type: varchar}
    - {lenght: 255, name: password_hash, notnull: 1, type: varchar}
    - {lenght: 255, name: password_salt, notnull: 1, type: varchar}
    - {lenght: 255, name: requested_email, notnull: 1, type: varchar}
    - {default: 0, name: email_change_count, notnull: 1, type: smallint}
    - {default: en_us, lenght: 5, name: locale, notnull: 1, type: character}
    constraints:
    - name: unique_users_email
      unique: [email]
    name: users
    type: createtable
  - columns:
    - foreign: {refcolumn: id, reftable: users}
      name: '"user"'
      notnull: 1
      type: uuid
    - foreign: {refcolumn: id, reftable: user_roles}
      name: user_role
      notnull: 1
      type: uuid
    constraints:
    - name: user_has_user_role
      primarykey: ['"user"', user_role]
    name: user_has_user_role
    type: createtable
  id: 001.core-maz
- author: Mario Zieschang
  entries:
  - columns:
    - {tpl: tpl_std}
    - {lenght: 50, name: cent_name, type: varchar}
    - {name: decimal_places, notnull: 1, type: integer}
    - {lenght: 10, name: currency_key, type: varchar}
    - {lenght: 10, name: symbol, type: varchar}
    name: currencies
    type: createtable
  - add:
    - [Euro, cent, 3, EUR, "â‚¬"]
    - [Dollar, Cent, 3, USD, $]
    - [Swiss fran, Rappen, 2, CHF, CHF]
    cols: [name, currency_key, decimal_places, cent_name, symbol]
    name: currencies
    type: insert
  id: 002.core-maz